## Обзор

Jakarta EE (ранее Java EE) — платформа для enterprise-приложений на Java, с набором API для стандартизации. API определяют интерфейсы для компонентов, без конкретной реализации — это спецификации вроде CDI, EJB. В версии 11 (июль 2025) фокус на cloud-native, Java 17+ и упрощении (e.g., Jakarta Data).

Компоненты — управляемые модули (beans, servlets), развертываемые в контейнерах. Профили — подмножества API для разных сценариев: Full для монолитов, Web для веб, Core для микросервисов. Всё обеспечивает portability между серверами (WildFly, GlassFish).

## Jakarta EE API: Основы

API — это стандарты (спецификации), описывающие, как работать с enterprise-функциями. Каждая API — пакет классов/интерфейсов, с TCK для тестирования. В EE 11 ~25 API, разделены по категориям.

### Ключевые категории API

|Категория|Примеры API (версия в EE 11)|Назначение|
|---|---|---|
|**Веб**|Servlet 6.0, JSF 4.0, JAX-RS 3.1|Обработка HTTP, UI, REST.|
|**Persistence**|JPA 3.1, Data 1.0|ORM, доступ к БД/NoSQL.|
|**Бизнес-логика**|EJB 4.0, CDI 4.0|Транзакции, DI, компоненты.|
|**Messaging**|JMS 3.1, Batch 2.1|Асинхронка, пакетная обработка.|
|**Безопасность**|Security 3.0, Validation 3.1|Auth, валидация.|
|**Другие**|Concurrency 3.0, Config 3.0|Async, конфигурация.|

Пример использования: @Inject из CDI API для DI. API интегрируются — e.g., JAX-RS с CDI для REST-beans.

## Виды компонентов

Компоненты — POJO с аннотациями, управляемые контейнером. Они реализуют бизнес-логику, с lifecycle (PostConstruct/PreDestroy). Разделены по спецификациям.

### Основные виды

|Вид|Спецификация|Описание|Аннотации/Интерфейсы|Пример|
|---|---|---|---|---|
|**Managed Beans**|CDI 4.0|Базовые POJO с DI и scopes.|@ApplicationScoped, @Inject|Сервис: @RequestScoped UserService с @Inject Repository.|
|**Session Beans**|EJB 4.0|Stateless/Stateful для транзакций.|@Stateless, @Stateful|@Stateless OrderProcessor: методы с @Transaction.|
|**Message-Driven Beans**|JMS 3.1|Асинхронные слушатели.|@MessageDriven|@MessageDriven EmailHandler: onMessage() для очередей.|
|**Servlets/Filters**|Servlet 6.0|Веб-обработчики.|@WebServlet, @WebFilter|@WebServlet("/api/users") UserServlet: doGet() для GET.|
|**JSF Beans**|JSF 4.0|UI-компоненты.|@Named (CDI)|@Named UserController: методы для форм.|
|**REST Resources**|JAX-RS 3.1|REST-эндпоинты.|@Path, @GET|@Path("/users") UserResource: @GET public List<User> getAll().|
|**Batch Jobs**|Batch 2.1|Пакетные задачи.|@BatchProperty|Job с ItemReader/Processor/Writer для ETL.|

Все компоненты: аннотации + lifecycle + DI. В EE 11 добавлены Data Repositories (@Repository) как новый вид.

**Код-пример (Session Bean)**:

java

```
@Stateless  // EJB-компонент
public class UserService {
    @Inject private UserRepository repo;  // CDI DI
    
    public void save(User user) {
        repo.persist(user);  // Бизнес-логика
    }
}
```

## Профили платформы

Профили — готовые наборы API для сценариев. EE 11 имеет три: Full (всё), Web (веб-фокус), Core (минимальный). Выбор по deployable unit (WAR/EAR).

### Сравнение профилей

|Профиль|API в наборе|Подходит для|Размер/Сложность|Пример развертывания|
|---|---|---|---|---|
|**Full Platform**|~25 (EJB, JMS, Batch + Web/Core)|Монолиты, enterprise.|Большой, с транзакциями.|EAR на WildFly: полный стек.|
|**Web Profile**|~12 (Servlet, JSF, JPA, CDI, JAX-RS)|Веб-приложения.|Средний, без heavy messaging.|WAR на TomEE: JSF + REST.|
|**Core Profile**|~5 (CDI, JPA, JAX-RS, Validation)|Микросервисы, облако.|Минимальный, легковесный.|JAR на Quarkus: REST + DB.|

- **Выбор**: Web/Core для новых проектов (экономия); Full для legacy. TCK для каждого.
- **Эволюция**: EE 11 убрал старые профили (Platform), добавил Core для native (GraalVM).